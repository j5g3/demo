<!DOCTYPE html>
<html>
<head>
	<title>j5g3 Demo Launcher</title>
	<style>
		body { color: #eee; padding: 10px; text-align: center; font: 14px sans-serif; background: #333; }
		#demo { margin-bottom: 10px; }
		#iframe { max-width: 100%; max-height: 66%; width: 1280px; height: 720px; border: 0; }
	</style>
</head>
<body>

	<div>
		<select id="demo">
		<optgroup label="gdk">
			<option compiled>parallax</option>
		</optgroup>
		<optgroup label="j5g3">
			<option>animation</option>
			<option>balls</option>
			<option>cache</option>
			<option>clock</option>
			<option>collides</option>
			<option>easing</option>
			<option>isometric</option>
			<option>life</option>
			<option>loading</option>
			<option>pacman</option>
			<option>particles</option>
			<option>shapes</option>
		</optgroup>
		</select>
		<label><input id="debug" type="checkbox"> Debug</label>
		<button id="restart">Restart</button>
	</div>
	<iframe id="iframe"></iframe>
	<script>
	(function() {
	var
		hash = location.hash.substr(1),
		demo = document.getElementById('demo'),
		debug = document.getElementById('debug'),
		restart = document.getElementById('restart'),
		iframe = document.getElementById('iframe'),
		option, rand
	;
		restart.onclick = debug.onchange = demo.onchange = function()
		{
			option = demo.options[demo.selectedIndex] || demo.options[0];
			location.hash = demo.value;
			rand = Date.now();
			
			if (debug.checked)
				iframe.src = (option.hasAttribute('compiled') ?
					demo.value + '/debug.html?' : 
					'demo_debug.html?') + rand + '#' + demo.value;
			else
				iframe.src = (option.hasAttribute('compiled') ?
					'compiled.html?' :
					'demo.html?') + rand + '#' + demo.value;
		}
		
		if ((/\w+/).test(hash))
			demo.value = hash;
			
		demo.onchange();
	})();
	</script>

  </body>
</html>
